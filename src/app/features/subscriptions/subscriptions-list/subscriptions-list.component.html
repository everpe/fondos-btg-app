<h2 class="title">Mis Suscripciones</h2>

<ng-container *ngIf="(subscriptionsWithFundName$ | async) as subs">
  <div *ngIf="subs.length === 0" class="no-subs-message">
    <mat-card>
      <mat-card-content>
        <div style="text-align:center; padding: 2rem; color: #888;">
          <mat-icon style="font-size: 48px; color: #bdbdbd;">sentiment_dissatisfied</mat-icon>
          <div style="margin-top: 1rem; font-size: 1.2rem;">
            No tienes suscripciones activas.<br>
            ¡Explora nuestros fondos y suscríbete al que más te interese!
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
  <div class="subscriptions-list" *ngIf="subs.length > 0">
    <mat-card *ngFor="let sub of subs" class="subscription-card">
      <mat-card-header>
        <mat-card-title>
          {{ sub.fundName }}
        </mat-card-title>
        <mat-card-subtitle>
          Suscrito el {{ sub.date | date:'mediumDate' }}
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p class="margin-bottom">
          Monto: {{ sub.amount | currency:'COP' }}
        </p>
        <p>
          Método de notificación: {{ sub.notificationMethod }}
        </p>
      </mat-card-content>
      <mat-card-actions >
        <button mat-stroked-button color="warn" (click)="cancel(sub)">
          Cancelar suscripción
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</ng-container>
